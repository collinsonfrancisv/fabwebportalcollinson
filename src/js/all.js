"use strict";

document.addEventListener("DOMContentLoaded", function (e) {
  document.documentElement.classList.remove("no-js");
  document.documentElement.classList.add("js");
  svg4everybody();

  var rem = function rem() {
    var html = document.getElementsByTagName('html')[0];
    return function () {
      return parseInt(window.getComputedStyle(html)['fontSize']);
    };
  }();

  var $overlay = $('#loyalty-overlay');

  var toggleOverlay = function toggleOverlay() {
    $overlay.fadeToggle();
  };

  $('.p-rewards-points__drop-down, #loyalty-overlay').click(function () {
    $(this).toggleClass('overlay-active');

    var loyaltyMenuToggle = function loyaltyMenuToggle() {
      $('.p-loyalty-nav-mobile').slideToggle({
        duration: 400,
        easing: "swing",
        specialEasing: {
          top: 'swing',
          left: 'linear'
        },
        complete: function complete() {},
        start: function start(a) {
          toggleOverlay();
        },
        done: function done(a) {},
        fail: function fail(error) {},
        always: function always(a) {}
      });
    }();
  }); // iOS switch button toggle

  $(".c-toggle__checkbox").click(function () {
    var $toggleParent = $(this).parent();

    if ($(this).is(":checked")) {
      $toggleParent.removeClass("is-not-toggled");
      $toggleParent.addClass("is-toggled");

      if ($toggleParent.hasClass("is-toggled")) {
        $toggleParent.find(".c-toggle__icon").css("fill", "#92E842");
      }
    } else if ($(this).is(":not(:checked)")) {
      $toggleParent.removeClass("is-toggled");
      $toggleParent.addClass("is-not-toggled");

      if ($toggleParent.hasClass("is-not-toggled")) {
        $toggleParent.find(".c-toggle__icon").css("fill", "#9FA9B8");
      }
    }
  });
  $(".o-btn-prev").click(function () {
    var closestXGrid = $(this).parent().next(".horizontal-scroll");
    var gridItemWidth = $(this).parent().next(".horizontal-scroll").children(".l-card-grid__item").outerWidth(true);
    var leftPos = closestXGrid.scrollLeft();
    closestXGrid.animate({
      scrollLeft: leftPos - gridItemWidth
    }, 100);
  });
  $(".o-btn-next").click(function () {
    var closestXGrid = $(this).parent().next(".horizontal-scroll");
    var gridItemWidth = $(this).parent().next(".horizontal-scroll").children(".l-card-grid__item").outerWidth(true);
    var leftPos = closestXGrid.scrollLeft();
    closestXGrid.animate({
      scrollLeft: leftPos + gridItemWidth
    }, 100);
  }); // Terms Pop Up

  $('#terms-and-condition').popup({
    escape: false,
    absolute: true,
    background: true,
    transition: 'all 0.3s',
    pagecontainer: '.p-main-content',
    scrolllock: true,
    color: 'rgba(12, 35, 64, 0.75)'
  });
  var mqls = [window.matchMedia("(min-width: 43.1875rem)")];
  removeTermsPopup();

  for (var i = 0; i < mqls.length; i++) {
    mqls[i].addListener(removeTermsPopup);
  }

  function removeTermsPopup() {
    if (mqls[0].matches) {} else {
      $('.c-popup-terms').attr("id", "terms-and-condition");
      document.body.style.backgroundColor = 'blue';
      $('#terms-and-condition').popup({
        escape: false,
        absolute: true,
        background: true,
        transition: 'all 0.3s',
        pagecontainer: '.p-main-content',
        scrolllock: true,
        color: 'rgba(12, 35, 64, 0.75)'
      });
    }
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInN2ZzRldmVyeWJvZHkiLCJyZW0iLCJodG1sIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJzZUludCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCIkb3ZlcmxheSIsIiQiLCJ0b2dnbGVPdmVybGF5IiwiZmFkZVRvZ2dsZSIsImNsaWNrIiwidG9nZ2xlQ2xhc3MiLCJsb3lhbHR5TWVudVRvZ2dsZSIsInNsaWRlVG9nZ2xlIiwiZHVyYXRpb24iLCJlYXNpbmciLCJzcGVjaWFsRWFzaW5nIiwidG9wIiwibGVmdCIsImNvbXBsZXRlIiwic3RhcnQiLCJhIiwiZG9uZSIsImZhaWwiLCJlcnJvciIsImFsd2F5cyIsIiR0b2dnbGVQYXJlbnQiLCJwYXJlbnQiLCJpcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJoYXNDbGFzcyIsImZpbmQiLCJjc3MiLCJjbG9zZXN0WEdyaWQiLCJuZXh0IiwiZ3JpZEl0ZW1XaWR0aCIsImNoaWxkcmVuIiwib3V0ZXJXaWR0aCIsImxlZnRQb3MiLCJzY3JvbGxMZWZ0IiwiYW5pbWF0ZSIsInBvcHVwIiwiZXNjYXBlIiwiYWJzb2x1dGUiLCJiYWNrZ3JvdW5kIiwidHJhbnNpdGlvbiIsInBhZ2Vjb250YWluZXIiLCJzY3JvbGxsb2NrIiwiY29sb3IiLCJtcWxzIiwibWF0Y2hNZWRpYSIsInJlbW92ZVRlcm1zUG9wdXAiLCJpIiwibGVuZ3RoIiwiYWRkTGlzdGVuZXIiLCJtYXRjaGVzIiwiYXR0ciIsImJvZHkiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciJdLCJtYXBwaW5ncyI6Ijs7QUFFQUEsUUFBUSxDQUFDQyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOEMsVUFBU0MsQ0FBVCxFQUFZO0FBRXhERixFQUFBQSxRQUFRLENBQUNHLGVBQVQs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QUFFLFVBSmtCO0FBSzlCQyxRQUFBQSxhQUFhLEVBQUUsaUJBTGU7QUFNOUJDLFFBQUFBLFVBQVUsRUFBRSxJQU5rQjtBQU85QkMsUUFBQUEsS0FBSyxFQUFFO0FBUHVCLE9BQWhDO0FBU0Q7QUFDRjtBQUtGLENBbElEIiwiZmlsZSI6ImFsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbihlKSB7XG5cbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJuby1qc1wiKTtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJqc1wiKTtcblxuICBzdmc0ZXZlcnlib2R5KCk7XG4gIFxuICBcblxuICB2YXIgcmVtID0gZnVuY3Rpb24gcmVtKCkgIHtcbiAgICB2YXIgaHRtbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF07XG4gIFxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShodG1sKVsnZm9udFNpemUnXSk7XG4gICAgfVxuICB9KCk7ICAgIFxuICBcblxuICB2YXIgJG92ZXJsYXkgPSAkKCcjbG95YWx0eS1vdmVybGF5Jyk7XG4gIHZhciB0b2dnbGVPdmVybGF5ID0gZnVuY3Rpb24gdG9nZ2xlT3ZlcmxheSgpIHsgICAgXG4gICAgJG92ZXJsYXkuZmFkZVRvZ2dsZSgpOyBcbiAgfVxuXG4gICQoJy5wLXJld2FyZHMtcG9pbnRzX19kcm9wLWRvd24sICNsb3lhbHR5LW92ZXJsYXknKS5jbGljayhmdW5jdGlvbigpIHtcblxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ292ZXJsYXktYWN0aXZlJyk7XG5cbiAgICBcbiAgICB2YXIgbG95YWx0eU1lbnVUb2dnbGUgPSBmdW5jdGlvbiBsb3lhbHR5TWVudVRvZ2dsZSgpICB7XG4gICAgICAkKCcucC1sb3lhbHR5LW5hdi1tb2JpbGUnKS5zbGlkZVRvZ2dsZSh7XG4gICAgICAgIGR1cmF0aW9uOjQwMFxuICAgICAgICAsZWFzaW5nOlwic3dpbmdcIlxuICAgICAgICAsc3BlY2lhbEVhc2luZzp7dG9wOidzd2luZycsbGVmdDonbGluZWFyJ31cbiAgICAgICAgLGNvbXBsZXRlOmZ1bmN0aW9uKCl7IH1cbiAgICAgICAgLHN0YXJ0OmZ1bmN0aW9uKGEpeyAgICAgICAgICAgXG4gICAgICAgICAgdG9nZ2xlT3ZlcmxheSgpO1xuICAgICAgICB9XG4gICAgICAgICxkb25lOmZ1bmN0aW9uKGEpeyAgfVxuICAgICAgICAsZmFpbDpmdW5jdGlvbihlcnJvcil7ICB9XG4gICAgICAgICxhbHdheXM6ZnVuY3Rpb24oYSl7fVxuICAgICAgIH0pO1xuICAgIH0oKTtcbiAgICBcbiAgfSk7XG5cblxuXG4gIC8vIGlPUyBzd2l0Y2ggYnV0dG9uIHRvZ2dsZVxuICAkKFwiLmMtdG9nZ2xlX19jaGVja2JveFwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgIHZhciAkdG9nZ2xlUGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoKTtcblxuICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSl7XG4gICAgICAkdG9nZ2xlUGFyZW50LnJlbW92ZUNsYXNzKFwiaXMtbm90LXRvZ2dsZWRcIik7XG4gICAgICAkdG9nZ2xlUGFyZW50LmFkZENsYXNzKFwiaXMtdG9nZ2xlZFwiKTtcblxuICAgICAgaWYgKCR0b2dnbGVQYXJlbnQuaGFzQ2xhc3MoXCJpcy10b2dnbGVkXCIpKSB7XG4gICAgICAgICR0b2dnbGVQYXJlbnQuZmluZChcIi5jLXRvZ2dsZV9faWNvblwiKS5jc3MoXCJmaWxsXCIsIFwiIzkyRTg0MlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZWxzZSBpZigkKHRoaXMpLmlzKFwiOm5vdCg6Y2hlY2tlZClcIikpe1xuICAgICAgJHRvZ2dsZVBhcmVudC5yZW1vdmVDbGFzcyhcImlzLXRvZ2dsZWRcIik7XG4gICAgICAkdG9nZ2xlUGFyZW50LmFkZENsYXNzKFwiaXMtbm90LXRvZ2dsZWRcIik7XG5cbiAgICAgIGlmICgkdG9nZ2xlUGFyZW50Lmhhc0NsYXNzKFwiaXMtbm90LXRvZ2dsZWRcIikpIHtcbiAgICAgICAgJHRvZ2dsZVBhcmVudC5maW5kKFwiLmMtdG9nZ2xlX19pY29uXCIpLmNzcyhcImZpbGxcIiwgXCIjOUZBOUI4XCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgJChcIi5vLWJ0bi1wcmV2XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2xvc2VzdFhHcmlkID0gJCh0aGlzKS5wYXJlbnQoKS5uZXh0KFwiLmhvcml6b250YWwtc2Nyb2xsXCIpO1xuICAgIHZhciBncmlkSXRlbVdpZHRoID0gJCh0aGlzKS5wYXJlbnQoKS5uZXh0KFwiLmhvcml6b250YWwtc2Nyb2xsXCIpLmNoaWxkcmVuKFwiLmwtY2FyZC1ncmlkX19pdGVtXCIpLm91dGVyV2lkdGgodHJ1ZSk7XG4gICAgdmFyIGxlZnRQb3MgPSBjbG9zZXN0WEdyaWQuc2Nyb2xsTGVmdCgpO1xuICAgIGNsb3Nlc3RYR3JpZC5hbmltYXRlKHtcbiAgICAgIHNjcm9sbExlZnQ6IGxlZnRQb3MgLSBncmlkSXRlbVdpZHRoXG4gICAgfSwgMTAwKTtcbiAgfSk7XG4gIFxuICAkKFwiLm8tYnRuLW5leHRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBjbG9zZXN0WEdyaWQgPSAkKHRoaXMpLnBhcmVudCgpLm5leHQoXCIuaG9yaXpvbnRhbC1zY3JvbGxcIik7XG4gICAgdmFyIGdyaWRJdGVtV2lkdGggPSAkKHRoaXMpLnBhcmVudCgpLm5leHQoXCIuaG9yaXpvbnRhbC1zY3JvbGxcIikuY2hpbGRyZW4oXCIubC1jYXJkLWdyaWRfX2l0ZW1cIikub3V0ZXJXaWR0aCh0cnVlKTtcbiAgICB2YXIgbGVmdFBvcyA9IGNsb3Nlc3RYR3JpZC5zY3JvbGxMZWZ0KCk7XG4gICAgY2xvc2VzdFhHcmlkLmFuaW1hdGUoe1xuICAgICAgc2Nyb2xsTGVmdDogbGVmdFBvcyArIGdyaWRJdGVtV2lkdGhcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICAvLyBUZXJtcyBQb3AgVXBcbiAgJCgnI3Rlcm1zLWFuZC1jb25kaXRpb24nKS5wb3B1cCh7XG4gICAgZXNjYXBlOiBmYWxzZSxcbiAgICBhYnNvbHV0ZTogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kOiB0cnVlLFxuICAgIHRyYW5zaXRpb246ICdhbGwgMC4zcycsXG4gICAgcGFnZWNvbnRhaW5lcjogJy5wLW1haW4tY29udGVudCcsIFxuICAgIHNjcm9sbGxvY2s6IHRydWUsXG4gICAgY29sb3I6ICdyZ2JhKDEyLCAzNSwgNjQsIDAuNzUpJ1xuICB9KTtcblxuICB2YXIgbXFscyA9IFtcbiAgICB3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDQzLjE4NzVyZW0pXCIpXG4gIF1cblxuICByZW1vdmVUZXJtc1BvcHVwKCk7XG4gIFxuICBmb3IgKHZhciBpPTA7IGk8bXFscy5sZW5ndGg7IGkrKyl7XG4gICAgbXFsc1tpXS5hZGRMaXN0ZW5lcihyZW1vdmVUZXJtc1BvcHVwKVxuICB9XG4gIFxuICBmdW5jdGlvbiByZW1vdmVUZXJtc1BvcHVwKCl7XG4gICAgaWYgKG1xbHNbMF0ubWF0Y2hlcykge1xuICAgICBcbiAgICB9IGVsc2UgIHtcbiAgICAgICQoJy5jLXBvcHVwLXRlcm1zJykuYXR0cihcImlkXCIsIFwidGVybXMtYW5kLWNvbmRpdGlvblwiKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2JsdWUnO1xuICAgICAgJCgnI3Rlcm1zLWFuZC1jb25kaXRpb24nKS5wb3B1cCh7XG4gICAgICAgIGVzY2FwZTogZmFsc2UsXG4gICAgICAgIGFic29sdXRlOiB0cnVlLFxuICAgICAgICBiYWNrZ3JvdW5kOiB0cnVlLFxuICAgICAgICB0cmFuc2l0aW9uOiAnYWxsIDAuM3MnLFxuICAgICAgICBwYWdlY29udGFpbmVyOiAnLnAtbWFpbi1jb250ZW50JywgXG4gICAgICAgIHNjcm9sbGxvY2s6IHRydWUsXG4gICAgICAgIGNvbG9yOiAncmdiYSgxMiwgMzUsIDY0LCAwLjc1KSdcbiAgICAgIH0pO1xuICAgIH0gXG4gIH1cblxuICBcbiAgICAgIFxuICBcbn0pOyJdfQ==
